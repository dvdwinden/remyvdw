# WARP.md

This file provides guidance to WARP (warp.dev) when working with code in this repository.

## Project Overview

This is a personal portfolio website built with:
- **Eleventy (11ty)** - Static site generator
- **Tailwind CSS** - Utility-first CSS framework with typography plugin
- **Nunjucks** - Templating engine
- **@11ty/eleventy-img** - Image optimization plugin

The site is deployed to GitHub Pages via GitHub Actions on every push to `main`.

## Development Commands

### Start development server
```bash
npm run dev
```
Runs Eleventy dev server with live reload and Tailwind CSS in watch mode concurrently.

### Build for production
```bash
npm run build
```
Builds the static site to `_site/` directory with minified CSS.

### Build CSS only
```bash
npm run build:css
```
Compiles Tailwind CSS without building the full site.

## Architecture

### Directory Structure
- `src/` - Source files for the site
  - `_includes/` - Nunjucks layouts and partials (e.g., `base.njk`)
  - `_data/` - Global data files (JSON/JS) available to templates
  - `css/` - Source CSS files (Tailwind directives)
  - `assets/` - Static assets (copied directly to output)
  - `*.md` - Content pages (Markdown with front matter)
- `_site/` - Built static site (git-ignored, generated by Eleventy)
- `.eleventy.js` - Eleventy configuration

### Build Pipeline
1. Eleventy processes templates (`.md`, `.njk`, `.html`) from `src/` to `_site/`
2. Tailwind CSS scans source files and generates optimized CSS to `_site/css/style.css`
3. Markdown files use Nunjucks templating engine (configured in `.eleventy.js`)
4. Images processed via `{% image %}` shortcode are optimized and output to `_site/img/`

### Image Optimization
The `{% image %}` shortcode in `.eleventy.js` automatically:
- Generates responsive images at 600px, 1200px, and 1800px widths
- Outputs WebP and JPEG formats
- Adds lazy loading and proper sizing attributes
- Uses custom filename format: `{name}-{width}w.{format}`

Usage in templates:
```njk
{% image "src/path/to/image.jpg", "Alt text", "(min-width: 768px) 50vw, 100vw" %}
```

### Styling
- Tailwind configured with dark mode support (`class` strategy)
- Typography plugin extends prose styling with max-width of 65ch
- Source CSS is minimal Tailwind directives in `src/css/style.css`
- Tailwind scans all `.html`, `.njk`, `.md`, and `.js` files in `src/`

## Node.js Version
GitHub Actions workflow uses Node.js 20. Use the same or compatible version locally.
